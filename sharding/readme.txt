Все команды для командной строки в shard.bat подразумевают, что вы находитесь в директории data (исправить первую команду, если что) и все используемые скрипты тоже лежат в этой папке. Этот скрипт создаёт с нуля всё инфраструктуру, поэтому если что-то остаётся с прошлых разов - полностью удаляется.

В процессе выполнения будут две паузы. Первая, чтобы убедиться, что есть три сообщения { 'ok': 1 }. Вторая, чтобы убедиться что mongos успешно соединился со всеми configsvr и ожидает обращения на порт 40000. После этого включается mongo, создаётся DB asl и коллекцией sessinos c включённым шардированием.

Различные команды для проверки работоспособности можно взять в файлике test.md

NB: Для unix систем предлагается добавлять команды: --fork для включения процесса в фоне и --logpath <name>.log для ведения логов в файл, где <name> совпадает со значением в поле --dbpath для каждого процесса